@if(garage) {

<!-- <p>{{ JSON.stringify(garage) }}</p> -->

<img
  src="api/Images/Garages/{{ garage.nameQueryParameter }}.jpg"
  class="image"
/>
<h1 class="name">{{ garage.name }}</h1>
<ngx-stars
  #garageRating
  [readonly]="true"
  [initialStars]="0"
  [size]="4"
></ngx-stars>
<div class="attributes">
  <h2 class="permit-required">{{ garage.permitRequired }}</h2>
</div>
<!-- <h3 class="description">{{ garage?.description }}</h3> -->

<h1>{{ garage.name }} - {{ garage.campus }}</h1>

<hr class="horizontal-line" />
<mat-card class="create-review">
  <h2 class="username">{{ username }}</h2>
  <textarea
    matInput
    [maxLength]="1000"
    (input)="updateCharacterCount($event)"
    [(ngModel)]="reviewText"
    class="create-review-text"
    placeholder="Review text here"
  ></textarea>
  <h5 class="character-counter">
    {{ currentCharacterCount }} / {{ maxCharacterCount }}
  </h5>
  <ngx-stars
    #reviewRating
    class="rating-stars"
    [readonly]="false"
    [initialStars]="0"
    [size]="3"
  ></ngx-stars>
  <button
    mat-flat-button
    (click)="sendReview()"
    class="secondary review-button"
  >
    Review
  </button>
</mat-card>
<hr class="horizontal-line" />
@for (review of reviews; track review) {
<mat-card class="single-review">
  <h2 class="username">{{ emailToUsername(review.user.email) }}</h2>
  <h3 class="review-text">{{ review.reviewText }}</h3>
  <ngx-stars
    class="review-stars"
    [readonly]="true"
    [initialStars]="review.starRating"
    [size]="2"
  ></ngx-stars>
  <h3 class="time-created">{{ convertDateToReadable(review.timeCreated) }}</h3>
</mat-card>
} }
